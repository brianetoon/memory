(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&d(p)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const o=document.getElementById("board"),m=document.getElementById("new-game-btn"),y=document.querySelector(".user-form"),h=document.querySelector(".error"),C=document.getElementById("current-player"),v=document.getElementById("turn-number"),f=y.firstElementChild,g=80,L=2100;let i=null,c=null,l=null,a=0;const k=["planet-1","planet-2","planet-3","planet-4","planet-5","planet-6","planet-7","planet-8","planet-9","rocket-1","rocket-2","rocket-3"];y.addEventListener("submit",e=>{e.preventDefault(),i=null,h.textContent="",f.value.length<2?(i="Name must be at least 2 characters.",h.textContent=i):f.value.length>12?(i="Name can not be greater than 12 characters.",h.textContent=i):(C.textContent=f.value,v.textContent=`Turn: ${a}`,y.style.display="none",m.style.display="block",A())});m.addEventListener("click",b);function b(){o.removeEventListener("click",u),o.innerHTML="",c=null,l=null,a=0,v.textContent=`Turn: ${a}`,A()}function A(){const e=P(k);m.removeEventListener("click",b);for(let t=0;t<e.length;t++){const n=document.createElement("div");n.classList.add("card"),n.classList.add("flipped"),n.setAttribute("name",e[t]),n.setAttribute("data-matched",!1),n.innerHTML=`
      <picture class="card__front">
        <source srcset="/memory/images/space/webp/${e[t]}.webp" type="image/webp">
        <img srcset="/memory/images/space/jpg/${e[t]}.jpg" alt="${e[t]}">
      </picture>
      <div class="card__back"></div>
    `,setTimeout(()=>{o.appendChild(n)},g*t),setTimeout(()=>{n.classList.remove("flipped")},g*t+L)}setTimeout(()=>{o.addEventListener("click",u),m.addEventListener("click",b)},L+g*e.length)}function u(e){e.target.classList.contains("card__back")&&T(e.target.parentElement)}function T(e){e===c||e.classList.contains("flipped")||(e.classList.add("flipped"),c?(l=e,o.removeEventListener("click",u),c.getAttribute("name")===l.getAttribute("name")?(console.log("those cards match!"),c.setAttribute("data-matched",!0),l.setAttribute("data-matched",!0),c=null,l=null,$(),o.addEventListener("click",u)):(console.log("those cards don't match"),setTimeout(()=>{c.classList.remove("flipped"),l.classList.remove("flipped"),c=null,l=null,o.addEventListener("click",u)},1e3)),a++,v.textContent=`Turn: ${a}`):c=e)}function $(){const e=document.querySelectorAll(".card");for(let t=0;t<e.length;t++)if(e[t].getAttribute("data-matched")!=="true")return;setTimeout(()=>{alert(`Congrats ${f.value}! You matched all cards in ${a} turns.`)},500)}function P(e){const n=E(e).slice(0,8),d=[...n,...n];return E(d)}function E(e){return e.sort(()=>Math.random()-.5)}
